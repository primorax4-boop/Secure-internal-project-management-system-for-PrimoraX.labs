/* ════════════════════════════════════════
   PrimoraX.labs — style.css
   ════════════════════════════════════════ */

*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent;}
:root{
  --bg:#060d1f;--bg2:#07101f;--bg3:#0b1829;--bg4:#0e1f38;--bg5:#132544;
  --border:#182d50;--border2:#1d3a6a;--border3:#234180;
  --text:#edf0fc;--text2:#c8ceec;--text3:#8a9dc0;--text4:#516889;--text5:#334f6e;
  --blue:#1460c0;--blue2:#1a72d4;--blue3:#4ec4fc;--blue4:#1a3a6e;
  --green:#56c26a;--green2:#1a4a28;--red:#f04545;--red2:#4a1515;
  --amber:#fcb144;--amber2:#4a3010;--purple:#cc88e8;--purple2:#3a1a52;
  --cyan:#22d3ee;--teal:#14b8a6;
  --ff:'DM Sans',sans-serif;--fm:'DM Mono',monospace;--fd:'Sora',sans-serif;
  --r8:8px;--r10:10px;--r12:12px;--r16:16px;
  --shadow:0 4px 24px rgba(0,0,0,.4);--shadow2:0 8px 40px rgba(0,0,0,.6);
  --touch-min:48px;
}
html,body{height:100%;background:var(--bg);color:var(--text);font-family:var(--ff);font-size:14px;}
::-webkit-scrollbar{width:4px;height:4px;}
::-webkit-scrollbar-track{background:var(--bg2);}
::-webkit-scrollbar-thumb{background:var(--border3);border-radius:2px;}
button{cursor:pointer;border:none;font-family:var(--ff);background:none;touch-action:manipulation;}
input,select,textarea{outline:none;font-family:var(--ff);font-size:16px !important;}

.screen{display:none;}
.screen.active{display:flex;}

/* ── LOGIN ── */
#s-login{min-height:100vh;align-items:center;justify-content:center;padding:20px;
  background:var(--bg);
  background-image:radial-gradient(ellipse 80% 60% at 15% 60%,rgba(20,96,192,.18) 0%,transparent 70%),
  radial-gradient(ellipse 60% 50% at 85% 15%,rgba(14,31,56,.6) 0%,transparent 60%);}
.login-wrap{width:100%;max-width:400px;}
.login-card{background:var(--bg3);border:1px solid var(--border2);border-radius:20px;padding:44px 40px;box-shadow:0 40px 80px rgba(0,0,0,.7);}
.login-logo{text-align:center;margin-bottom:36px;}
.login-hex{width:52px;height:52px;background:linear-gradient(145deg,#1a72d4,#0d47a1);border-radius:14px;display:inline-flex;align-items:center;justify-content:center;font-size:26px;margin-bottom:14px;box-shadow:0 8px 24px rgba(21,101,192,.35);}
.login-brand{font-family:var(--fd);font-weight:800;font-size:24px;color:var(--text);letter-spacing:-.03em;line-height:1;}
.login-sub{font-size:11px;color:var(--text5);font-family:var(--fm);letter-spacing:.1em;text-transform:uppercase;margin-top:6px;}
.inp-group{margin-bottom:18px;}
.inp-label{display:block;font-size:10px;color:var(--text4);font-family:var(--fm);letter-spacing:.1em;text-transform:uppercase;font-weight:600;margin-bottom:7px;}
.inp{width:100%;background:var(--bg4);border:1.5px solid var(--border2);border-radius:var(--r10);color:var(--text);padding:13px 14px;font-size:16px !important;transition:border-color .2s,box-shadow .2s;}
.inp:focus{border-color:var(--blue2);box-shadow:0 0 0 3px rgba(26,114,212,.12);}
.inp::placeholder{color:var(--text5);}
.pw-wrap{position:relative;}
.pw-wrap .inp{padding-right:52px;}
.pw-eye{position:absolute;right:13px;top:50%;transform:translateY(-50%);color:var(--text4);font-size:20px;padding:6px 8px;border-radius:4px;min-height:var(--touch-min);display:flex;align-items:center;}
.pw-eye:hover{color:var(--text2);}
.login-err{background:rgba(240,69,69,.15);border:1px solid rgba(240,69,69,.3);color:#fc8585;border-radius:var(--r8);padding:10px 14px;font-size:12px;margin-bottom:16px;font-family:var(--fm);display:none;}
.btn-login{width:100%;background:linear-gradient(135deg,#1565c0,#0d47a1);color:#fff;padding:15px;border-radius:var(--r10);font-size:15px;font-weight:600;letter-spacing:.02em;box-shadow:0 4px 20px rgba(21,101,192,.4);transition:all .2s;min-height:var(--touch-min);}
.btn-login:hover{transform:translateY(-1px);box-shadow:0 6px 28px rgba(21,101,192,.5);}
.login-footer{text-align:center;margin-top:22px;font-size:10px;color:var(--text5);font-family:var(--fm);letter-spacing:.06em;}

/* ── WELCOME ── */
#s-welcome{min-height:100vh;align-items:center;justify-content:center;padding:20px;flex-direction:column;
  background:var(--bg);
  background-image:radial-gradient(ellipse 70% 60% at 30% 40%,rgba(20,96,192,.14) 0%,transparent 65%);}
#welcome-card{text-align:center;animation:wElcome .6s cubic-bezier(.34,1.56,.64,1) both;}
@keyframes wElcome{from{opacity:0;transform:scale(.88) translateY(24px);}to{opacity:1;transform:scale(1) translateY(0);}}
.wc-avatar{width:88px;height:88px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;font-family:var(--fm);font-weight:700;font-size:30px;margin-bottom:24px;position:relative;}
.wc-avatar::after{content:'';position:absolute;inset:-4px;border-radius:50%;border:2px solid rgba(78,196,252,.3);animation:pulse 2s ease-in-out infinite;}
@keyframes pulse{0%,100%{opacity:.4;transform:scale(1);}50%{opacity:1;transform:scale(1.05);}}
.wc-greeting{font-family:var(--fd);font-weight:800;font-size:28px;color:var(--text);letter-spacing:-.03em;margin-bottom:8px;}
.wc-sub{font-size:14px;color:var(--text3);margin-bottom:6px;}
.wc-role{display:inline-block;padding:5px 16px;border-radius:20px;font-size:12px;font-family:var(--fm);font-weight:600;letter-spacing:.06em;text-transform:uppercase;margin-bottom:32px;}
.wc-role.ceo{background:rgba(204,136,232,.15);border:1px solid rgba(204,136,232,.3);color:var(--purple);}
.wc-role.team{background:rgba(78,196,252,.1);border:1px solid rgba(78,196,252,.25);color:var(--blue3);}
.wc-facts{display:flex;gap:14px;margin-bottom:28px;flex-wrap:wrap;justify-content:center;}
.wc-fact{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r12);padding:12px 18px;min-width:100px;}
.wc-fact-val{font-family:var(--fd);font-weight:700;font-size:22px;color:var(--blue3);}
.wc-fact-lbl{font-size:10px;color:var(--text4);font-family:var(--fm);text-transform:uppercase;letter-spacing:.06em;margin-top:3px;}
.wc-quote{font-size:13px;color:var(--text4);font-style:italic;margin-bottom:32px;max-width:340px;}
.btn-enter{background:linear-gradient(135deg,#1565c0,#0d47a1);color:#fff;padding:14px 36px;border-radius:var(--r10);font-size:15px;font-weight:600;box-shadow:0 4px 20px rgba(21,101,192,.4);transition:all .2s;letter-spacing:.02em;min-height:var(--touch-min);}
.btn-enter:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(21,101,192,.5);}

/* ── APP SHELL ── */
#s-app{height:100vh;flex-direction:row;overflow:hidden;}
#sidebar{width:232px;background:var(--bg2);border-right:1px solid var(--border);display:flex;flex-direction:column;height:100vh;flex-shrink:0;transition:transform .28s cubic-bezier(.4,0,.2,1);}
#main-area{flex:1;display:flex;flex-direction:column;overflow:hidden;background:var(--bg);}

/* ── SIDEBAR ── */
.sb-logo{padding:20px 16px 16px;border-bottom:1px solid var(--border);}
.sb-logo-row{display:flex;align-items:center;gap:11px;}
.sb-hex{width:38px;height:38px;background:linear-gradient(145deg,#1a72d4,#0d47a1);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;}
.sb-brand{font-family:var(--fd);font-weight:800;font-size:16px;color:var(--text);letter-spacing:-.02em;}
.sb-brand span{color:var(--blue3);}
.sb-tag{font-size:9px;color:var(--text5);font-family:var(--fm);letter-spacing:.1em;text-transform:uppercase;margin-top:1px;}
.sb-nav{flex:1;padding:12px 8px;overflow-y:auto;}
.sb-section{font-size:9px;color:var(--text5);font-family:var(--fm);letter-spacing:.1em;text-transform:uppercase;padding:0 8px;margin:10px 0 6px;}
.nb{display:flex;align-items:center;gap:10px;width:100%;padding:11px 12px;border-radius:9px;margin-bottom:2px;color:var(--text4);border:1px solid transparent;text-align:left;font-size:13px;font-weight:500;transition:all .14s;position:relative;min-height:44px;}
.nb:hover{background:var(--bg3);color:var(--text2);}
.nb.active{background:var(--bg4);color:var(--blue3);border-color:var(--border2);}
.nb.active::before{content:'';position:absolute;left:0;top:20%;bottom:20%;width:3px;background:var(--blue3);border-radius:0 2px 2px 0;}
.nb .ni{font-size:16px;width:22px;text-align:center;flex-shrink:0;}
.nb .nl{flex:1;}
.nb .nt{font-size:9px;font-family:var(--fm);color:#b060d0;background:rgba(180,90,220,.1);padding:2px 6px;border-radius:3px;letter-spacing:.04em;}
.sb-user{padding:14px 14px 16px;border-top:1px solid var(--border);}
.sb-user-row{display:flex;align-items:center;gap:10px;margin-bottom:11px;}
.sb-uname{font-size:12px;font-weight:600;color:var(--text2);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.sb-urole{font-size:10px;color:var(--text4);font-family:var(--fm);margin-top:1px;}
.btn-signout{width:100%;padding:10px;border-radius:var(--r8);font-size:13px;background:var(--bg4);color:var(--text3);border:1px solid var(--border2);transition:all .15s;min-height:44px;}
.btn-signout:hover{background:rgba(240,69,69,.15);color:#fc8585;border-color:rgba(240,69,69,.3);}

/* ── TOPBAR ── */
#topbar{padding:0 20px;height:56px;border-bottom:1px solid var(--border);background:var(--bg2);display:flex;align-items:center;justify-content:space-between;flex-shrink:0;}
.tb-left{display:flex;align-items:center;gap:8px;}
#menu-btn{display:none;color:var(--text3);font-size:22px;padding:6px 8px;border-radius:6px;margin-right:4px;min-height:44px;min-width:44px;align-items:center;justify-content:center;}
#menu-btn:hover{background:var(--bg3);}
.tb-title{font-family:var(--fd);font-weight:700;font-size:16px;color:var(--text);letter-spacing:-.02em;}
.tb-date{font-size:10px;color:var(--text5);font-family:var(--fm);margin-top:1px;}
.tb-right{display:flex;align-items:center;gap:8px;}

/* ── CONTENT ── */
#content{flex:1;overflow-y:auto;padding:22px 24px;-webkit-overflow-scrolling:touch;}
.page{animation:pageIn .22s ease both;}
@keyframes pageIn{from{opacity:0;transform:translateY(6px);}to{opacity:1;transform:translateY(0);}}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}

/* ── REUSABLE ── */
.badge{display:inline-flex;align-items:center;border-radius:5px;padding:2px 8px;font-size:10px;font-family:var(--fm);font-weight:600;letter-spacing:.05em;text-transform:uppercase;white-space:nowrap;gap:3px;}
.avatar{border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:var(--fm);font-weight:700;flex-shrink:0;letter-spacing:.04em;}
.card{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r12);transition:all .2s;}
.card:hover{border-color:var(--border3);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.2);}
.stat-card{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r12);padding:16px 18px;}
.stat-icon{font-size:20px;margin-bottom:8px;}
.stat-val{font-family:var(--fd);font-weight:700;font-size:24px;margin-bottom:3px;}
.stat-lbl{font-size:10px;color:var(--text4);font-family:var(--fm);text-transform:uppercase;letter-spacing:.06em;}
.g2{display:grid;grid-template-columns:1fr 1fr;gap:14px;}
.g3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
.g4{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;}
.pbar-wrap{height:5px;background:var(--bg5);border-radius:3px;overflow:hidden;}
.pbar{height:100%;border-radius:3px;transition:width .4s ease;}
.divider{border:none;border-top:1px solid var(--border);margin:12px 0;}
.section-head{font-family:var(--fd);font-weight:700;font-size:13px;color:var(--text2);margin-bottom:12px;}
.irow{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--border);}
.irow:last-child{border-bottom:none;}
.ilabel{font-size:11px;color:var(--text4);font-family:var(--fm);text-transform:uppercase;letter-spacing:.05em;}
.ival{font-size:13px;color:var(--text2);font-weight:500;}
.filter-bar{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px;}
.fbtn{padding:8px 14px;border-radius:8px;font-size:12px;font-family:var(--fm);background:var(--bg3);color:var(--text3);border:1px solid var(--border);transition:all .14s;min-height:38px;}
.fbtn:hover{border-color:var(--border3);color:var(--text2);}
.fbtn.on{background:var(--blue);color:#fff;border-color:var(--blue2);}
.flex-end{display:flex;justify-content:flex-end;}
.flex-mid{display:flex;align-items:center;}
.flex-between{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;}
.gap6{gap:6px;}.gap8{gap:8px;}.gap10{gap:10px;}.gap12{gap:12px;}
.empty{text-align:center;padding:48px 20px;color:var(--text5);background:var(--bg3);border:1px solid var(--border);border-radius:var(--r12);}
.empty-icon{font-size:32px;display:block;margin-bottom:10px;}
.back-btn{display:inline-flex;align-items:center;gap:6px;color:var(--text4);font-size:12px;font-family:var(--fm);margin-bottom:14px;padding:8px 0;transition:color .14s;min-height:40px;}
.back-btn:hover{color:var(--blue3);}

/* ── BUTTONS ── */
.btn-p{background:linear-gradient(135deg,#1565c0,#0d47a1);color:#fff;padding:10px 20px;border-radius:var(--r8);font-size:13px;font-weight:600;box-shadow:0 3px 12px rgba(21,101,192,.3);white-space:nowrap;transition:all .2s;min-height:42px;position:relative;overflow:hidden;}
.btn-p:hover{transform:translateY(-1px);box-shadow:0 5px 16px rgba(21,101,192,.4);}
.btn-s{background:var(--bg4);color:var(--text3);padding:10px 16px;border-radius:var(--r8);font-size:13px;border:1px solid var(--border2);white-space:nowrap;transition:all .14s;min-height:42px;}
.btn-s:hover{background:var(--bg5);color:var(--text2);}
.btn-sm{background:var(--bg4);color:var(--text3);padding:7px 13px;border-radius:6px;font-size:12px;font-family:var(--fm);border:1px solid var(--border2);transition:all .14s;min-height:36px;}
.btn-sm:hover{background:var(--bg5);color:var(--text2);}
.btn-icon{background:var(--bg4);border:1px solid var(--border2);border-radius:6px;color:var(--text3);padding:6px 10px;font-size:13px;transition:all .14s;min-height:38px;min-width:38px;display:inline-flex;align-items:center;justify-content:center;}
.btn-icon:hover{border-color:var(--border3);color:var(--text2);}

/* ── FORMS ── */
.field{margin-bottom:14px;}
.inp-sm{background:var(--bg4);border:1.5px solid var(--border2);border-radius:var(--r8);color:var(--text);padding:11px 13px;font-size:16px !important;width:100%;transition:border-color .2s;min-height:46px;}
.inp-sm:focus{border-color:var(--blue2);}
.inp-sm::placeholder{color:var(--text5);}
select.inp-sm option{background:var(--bg4);}
textarea.inp-sm{min-height:unset;resize:vertical;}

/* ── FILE UPLOAD ── */
.upload-zone{border:2px dashed var(--border3);border-radius:var(--r12);padding:32px 20px;text-align:center;cursor:pointer;transition:all .2s;background:var(--bg4);}
.upload-zone:hover,.upload-zone.drag{border-color:var(--blue2);background:rgba(26,114,212,.06);}
.upload-zone-icon{font-size:40px;margin-bottom:12px;display:block;}
.upload-zone-title{font-size:15px;font-weight:600;color:var(--text2);margin-bottom:6px;}
.upload-zone-sub{font-size:12px;color:var(--text4);font-family:var(--fm);}
.file-input-hidden{display:none;}
.upload-preview{background:var(--bg4);border:1px solid var(--border2);border-radius:var(--r8);padding:12px 14px;margin-top:10px;display:flex;align-items:center;gap:10px;}
.upload-preview-icon{font-size:28px;flex-shrink:0;}
.upload-preview-name{font-size:13px;color:var(--text2);font-weight:500;word-break:break-all;}
.upload-preview-size{font-size:11px;color:var(--text4);font-family:var(--fm);margin-top:2px;}
.upload-preview-rm{margin-left:auto;color:var(--red);font-size:18px;padding:4px 6px;flex-shrink:0;}

/* ── MODAL ── */
#modal-root .overlay{position:fixed;inset:0;background:rgba(4,9,20,.9);z-index:1000;display:flex;align-items:flex-end;justify-content:center;padding:0;animation:fadeOver .18s ease;}
@media(min-width:600px){#modal-root .overlay{align-items:center;padding:16px;}}
@keyframes fadeOver{from{opacity:0;}to{opacity:1;}}
.mbox{background:var(--bg3);border:1px solid var(--border2);border-radius:20px 20px 0 0;padding:22px 20px 32px;width:100%;max-height:92vh;overflow-y:auto;box-shadow:0 -20px 60px rgba(0,0,0,.7);animation:mSlideUp .25s cubic-bezier(.34,1.1,.64,1);}
@media(min-width:600px){.mbox{border-radius:18px;max-width:520px;padding:26px 28px 28px;animation:mSlide .22s cubic-bezier(.34,1.3,.64,1);}}
@keyframes mSlideUp{from{transform:translateY(100%);}to{transform:translateY(0);}}
@keyframes mSlide{from{opacity:0;transform:scale(.95) translateY(16px);}to{opacity:1;transform:scale(1) translateY(0);}}
.mbox-wide{max-width:600px;}
.mhead{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;}
.mtitle{font-family:var(--fd);font-weight:700;font-size:16px;color:var(--text);}
.mclose{color:var(--text4);font-size:28px;line-height:1;padding:4px 8px;border-radius:5px;transition:all .14s;min-height:44px;min-width:44px;display:flex;align-items:center;justify-content:center;}
.mclose:hover{background:var(--bg5);color:var(--text);}
.drag-handle{width:40px;height:4px;background:var(--border2);border-radius:2px;margin:0 auto 16px;}

/* ── TABS ── */
.tabs{display:flex;border-bottom:1px solid var(--border);margin-bottom:18px;gap:0;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;}
.tabs::-webkit-scrollbar{display:none;}
.tab{padding:10px 16px;font-size:13px;font-weight:500;color:var(--text4);border-bottom:2px solid transparent;text-transform:capitalize;transition:all .14s;white-space:nowrap;min-height:44px;display:flex;align-items:center;}
.tab:hover{color:var(--text2);}
.tab.on{color:var(--blue3);border-bottom-color:var(--blue3);}

/* ── TABLE ── */
.tbl-wrap{overflow-x:auto;border-radius:var(--r12);border:1px solid var(--border);-webkit-overflow-scrolling:touch;}
table{width:100%;border-collapse:collapse;min-width:580px;}
th{padding:10px 14px;text-align:left;font-size:10px;color:var(--text4);font-family:var(--fm);text-transform:uppercase;letter-spacing:.06em;font-weight:600;background:var(--bg4);border-bottom:1px solid var(--border);}
td{padding:12px 14px;border-bottom:1px solid var(--border);font-size:12px;color:var(--text2);vertical-align:middle;}
tr:last-child td{border-bottom:none;}
tr:hover td{background:rgba(255,255,255,.015);}

/* ── CARDS ── */
.proj-card{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r12);padding:16px 20px;margin-bottom:10px;cursor:pointer;transition:all .15s;}
.proj-card:hover{border-color:var(--border3);background:var(--bg4);}
.task-card{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r12);margin-bottom:10px;overflow:hidden;}
.tc-head{padding:14px 16px;cursor:pointer;transition:background .14s;min-height:60px;}
.tc-head:hover{background:rgba(255,255,255,.02);}
.tc-body{border-top:1px solid var(--border);padding:14px 16px;}
.doc-card{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r10);padding:14px 16px;margin-bottom:9px;}
.note-item{padding:10px 12px;background:var(--bg4);border-radius:var(--r8);margin-bottom:7px;border-left:3px solid var(--border2);}
.cmt-item{display:flex;gap:11px;padding:12px 14px;background:var(--bg3);border:1px solid var(--border);border-radius:var(--r10);margin-bottom:8px;}
.pay-row{display:flex;align-items:center;justify-content:space-between;padding:13px 16px;background:var(--bg3);border:1px solid var(--border);border-radius:var(--r10);margin-bottom:8px;}

/* ── MEMBER CHIPS ── */
.mchip{display:inline-flex;align-items:center;gap:6px;padding:8px 14px;background:var(--bg4);border:1px solid var(--border2);border-radius:20px;font-size:13px;margin:4px;cursor:pointer;transition:all .14s;min-height:40px;}
.mchip:hover{border-color:var(--border3);}
.mchip.sel{background:rgba(21,96,192,.25);border-color:var(--blue2);color:var(--blue3);}
.vis-row{display:flex;gap:8px;margin-top:6px;}
.vbtn{flex:1;padding:10px 8px;border-radius:var(--r8);font-size:12px;font-family:var(--fm);border:1.5px solid var(--border2);background:var(--bg4);color:var(--text4);cursor:pointer;transition:all .15s;min-height:44px;}

/* ── NOTIFICATION ── */
#notif{position:fixed;bottom:24px;left:50%;transform:translateX(-50%);z-index:9999;background:rgba(22,80,28,.97);border:1px solid rgba(86,194,106,.35);color:#a5e0b0;padding:12px 22px;border-radius:12px;font-family:var(--fm);font-size:13px;box-shadow:var(--shadow2);display:none;animation:nIn .22s ease;max-width:90vw;text-align:center;white-space:nowrap;}
#notif.err{background:rgba(60,14,14,.97);border-color:rgba(240,69,69,.35);color:#fc9898;}
@keyframes nIn{from{transform:translateX(-50%) translateY(16px);opacity:0;}to{transform:translateX(-50%) translateY(0);opacity:1;}}

/* ── SIDEBAR OVERLAY ── */
#sb-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:199;}
#sb-overlay.on{display:block;}

/* ── BOTTOM NAV ── */
#bottom-nav{display:none;position:fixed;bottom:0;left:0;right:0;z-index:150;background:var(--bg2);border-top:1px solid var(--border);padding:6px 8px env(safe-area-inset-bottom,8px);gap:2px;}
.bnav-item{flex:1;display:flex;flex-direction:column;align-items:center;gap:3px;padding:8px 4px;border-radius:8px;color:var(--text5);font-size:9px;font-family:var(--fm);letter-spacing:.04em;text-transform:uppercase;cursor:pointer;transition:all .14s;min-height:54px;justify-content:center;}
.bnav-item:hover,.bnav-item.active{color:var(--blue3);}
.bnav-item.active{background:rgba(78,196,252,.08);}
.bnav-icon{font-size:20px;}

/* ── GROUP CHAT ── */
#chat-wrap{display:flex;flex-direction:column;height:calc(100vh - 58px);overflow:hidden;}
@media(max-width:768px){#chat-wrap{height:calc(100vh - 58px - 68px);}}
#chat-messages{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:12px;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;}
#chat-input-bar{padding:12px 16px;border-top:1px solid var(--border);background:var(--bg2);display:flex;gap:10px;align-items:flex-end;flex-shrink:0;}
.chat-msg{display:flex;gap:10px;max-width:85%;animation:msgSlideIn .3s ease-out;opacity:0;animation-fill-mode:forwards;}
.chat-msg.mine{flex-direction:row-reverse;align-self:flex-end;}
.chat-msg.theirs{align-self:flex-start;}
@keyframes msgSlideIn{from{opacity:0;transform:translateY(8px);}to{opacity:1;transform:translateY(0);}}
.chat-msg.mine .chat-bubble{background:linear-gradient(135deg,#1565c0,#0d47a1);color:#fff;border-radius:18px 18px 4px 18px;box-shadow:0 2px 8px rgba(21,101,192,.25);}
.chat-msg.theirs .chat-bubble{background:var(--bg3);border:1px solid var(--border);border-radius:18px 18px 18px 4px;}
.chat-bubble{padding:11px 15px;font-size:13.5px;line-height:1.6;max-width:100%;word-break:break-word;}
.chat-meta{font-size:10px;margin-top:4px;font-family:var(--fm);opacity:.8;}
.chat-msg.mine .chat-meta{text-align:right;color:rgba(255,255,255,.7);}
.chat-msg.theirs .chat-meta{color:var(--text5);}
.chat-date-divider{text-align:center;font-size:10px;color:var(--text5);font-family:var(--fm);padding:8px 0;letter-spacing:.06em;text-transform:uppercase;position:relative;margin:8px 0;}
.chat-date-divider::before,.chat-date-divider::after{content:'';position:absolute;top:50%;width:30%;height:1px;background:var(--border);}
.chat-date-divider::before{left:0;}
.chat-date-divider::after{right:0;}
.chat-typing-area{flex:1;background:var(--bg4);border:1.5px solid var(--border2);border-radius:14px;color:var(--text);padding:11px 14px;font-size:15px;resize:none;max-height:120px;min-height:44px;line-height:1.5;transition:all .2s;}
.chat-typing-area:focus{border-color:var(--blue2);box-shadow:0 0 0 3px rgba(26,114,212,.1);}
.chat-send-btn{width:44px;height:44px;border-radius:50%;background:linear-gradient(135deg,#1565c0,#0d47a1);color:#fff;font-size:18px;display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:0 3px 12px rgba(21,101,192,.4);transition:all .2s;}
.chat-send-btn:hover{transform:scale(1.08);box-shadow:0 4px 16px rgba(21,101,192,.5);}
.chat-send-btn:active{transform:scale(.95);}
.chat-name-badge{font-size:11px;font-weight:600;color:var(--text3);margin-bottom:5px;padding:0 2px;}
.chat-msg.mine .chat-name-badge{display:none;}
.chat-online-dot{width:6px;height:6px;border-radius:50%;background:var(--green);display:inline-block;animation:pulseDot 2s ease-in-out infinite;}
@keyframes pulseDot{0%,100%{opacity:1;transform:scale(1);}50%{opacity:.7;transform:scale(1.1);}}
.chat-typing-indicator{display:flex;gap:4px;padding:8px 14px;background:var(--bg3);border:1px solid var(--border);border-radius:12px;max-width:fit-content;font-size:11px;color:var(--text4);font-family:var(--fm);align-items:center;}
.chat-typing-dots{display:flex;gap:3px;margin-left:4px;}
.chat-typing-dot{width:6px;height:6px;border-radius:50%;background:var(--text5);animation:typingDot 1.4s ease-in-out infinite;}
.chat-typing-dot:nth-child(2){animation-delay:.2s;}
.chat-typing-dot:nth-child(3){animation-delay:.4s;}
@keyframes typingDot{0%,60%,100%{transform:translateY(0);opacity:.4;}30%{transform:translateY(-6px);opacity:1;}}

/* ── LOADING SPINNER ── */
.spinner{display:inline-block;width:20px;height:20px;border:2px solid var(--border2);border-top-color:var(--blue2);border-radius:50%;animation:spin .7s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}
.loading-overlay{position:fixed;inset:0;background:rgba(6,13,31,.8);z-index:5000;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:16px;}
.loading-overlay p{color:var(--text4);font-family:var(--fm);font-size:13px;}

/* ── FIREBASE STATUS ── */
.fb-status{display:inline-flex;align-items:center;gap:5px;padding:4px 10px;border-radius:6px;font-size:10px;font-family:var(--fm);}
.fb-status.live{background:rgba(86,194,106,.1);border:1px solid rgba(86,194,106,.2);color:var(--green);}
.fb-status.offline{background:rgba(252,177,68,.1);border:1px solid rgba(252,177,68,.2);color:var(--amber);}

/* ── MOBILE ── */
@media(max-width:768px){
  #menu-btn{display:flex !important;}
  #sidebar{position:fixed;left:0;top:0;bottom:0;z-index:200;transform:translateX(-100%);}
  #sidebar.open{transform:translateX(0);}
  #content{padding:14px 14px 80px;}
  #bottom-nav{display:flex;}
  .g4{grid-template-columns:1fr 1fr;}
  .g2{grid-template-columns:1fr;}
  .g3{grid-template-columns:1fr 1fr;}
  .tb-title{font-size:15px;}
}
@media(max-width:480px){
  .g4{grid-template-columns:1fr 1fr;}
  .g3{grid-template-columns:1fr;}
  .login-card{padding:32px 20px;}
  .wc-greeting{font-size:24px;}
  .filter-bar{gap:5px;}
  .fbtn{padding:7px 11px;font-size:11px;}
}

@keyframes shake{0%,100%{transform:translateX(0);}15%{transform:translateX(-8px);}30%{transform:translateX(7px);}45%{transform:translateX(-6px);}60%{transform:translateX(5px);}75%{transform:translateX(-3px);}90%{transform:translateX(2px);}}
